!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function e(n){var e;for(e=0;e<n.length;e+=1)n[e](p)}function t(){var n=d;u&&n.length&&(d=[],e(n))}function o(){u||(u=!0,l&&clearInterval(l),t())}function a(n){return u?n(p):d.push(n),a}var i=jQuery,c,r,l,s="undefined"!=typeof window&&window.document,u=!s,p=s?document:null,d=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1);else if(window.attachEvent){window.attachEvent("onload",o),r=document.createElement("div");try{c=null===window.frameElement}catch(n){}r.doScroll&&c&&window.external&&(l=setInterval((function(){try{r.doScroll(),o()}catch(n){}}),30))}"complete"===document.readyState&&o()}a.version="2.0.1",a.load=function(n,e,t,o){o.isBuild?t(null):a(t)},a((function(){i(".of-input-menu-content-entries").each((function(e,t){function o(){I.entries=[],I.alignment=D,i.each(A,(function(n,e){I.entries.push({contentType:e.contentType,options:e.options})})),w.val(JSON.stringify(I))}function a(n){var e=A.length<P;if("none"===(n=i.extend({contentType:"",options:{}},n)).contentType&&(e=!1),a.hasOwnProperty("newId")||(a.newId=0),a.newId++,e){var t={id:a.newId,contentType:n.contentType,options:n.options};""===t.contentType&&(t.contentType=S[0].id,l(t)),A.push(t),d(),o()}return e}function c(n){for(var e in A)if(n===A[e].id)return A[e];return null}function r(n){A=A.filter((function(e){return n!==e.id})),o()}function l(n){var e=p(n.contentType);n.options={},i.each(e,(function(e,t){var o=t.name,a=t.default;if(a)n.options[o]=a;else switch(t.type){case"select":var i=Object.keys(t.value);i.length>0&&(n.options[o]=i.shift());break;case"text":case"textarea":n.options[o]="";break;case"checkbox":n.options[o]=[];break}}))}function s(n,e,t){n.options[e]=t,o()}function u(n){n=i.inArray(n,["left","center","right"])>=0?n:"",D=n,C.find("[data-align]").removeClass("current").filter('[data-align="'+n+'"]').addClass("current"),x.attr("data-align",n),o()}function p(n){var e=null;return i.each(S,(function(t,o){if(n===o.id)return e=o.options,!1;o.value&&i.each(o.value,(function(t,a){if(t===n)return e=o.options,!1}))})),e}function d(){g.children().remove(),i.each(A,(function(n,e){var t=b.clone(),a=t.find(".of-input-menu-content-type--remove a"),c=t.find(".menu-content-column select"),s=t.find(".options-show-popover"),u=t.find(".menu-content-options .menu-content-options-popover");t.attr("data-entry-id",e.id),t.appendTo(g),c.val(e.contentType),m(c),f(e,t),c.on("change",(function(n){e.contentType=this.value,l(e),f(e,t),o(),v(e,u)})),s.on("click",(function(n){n.preventDefault();var e="show",t;!u.hasClass(e)?u.addClass(e):u.removeClass(e)})),i(window).click((function(n){u.hasClass("show")&&"function"==typeof t[0].contains&&!1===t[0].contains(n.target)&&u.removeClass("show")})),a.on("click",(function(n){n.preventDefault(),r(e.id),t.remove()}))}))}function f(n,e){var t,o=p(n.contentType),a=e.find(".menu-content-options"),c=e.find(".menu-content-options .menu-content-options-popover");c.html(""),a[o&&o.length>0?"removeClass":"addClass"]("inactive"),i.each(o,(function(e,t){var o=h(n,t);c.append(o)}))}function h(n,e){var t,o=e.type,a=e.name,c=e.title,r=e.description,l=e.value,u=e.placeholder,p=n.options[a];if(i.inArray(o,["select","checkbox","text","textarea"])>=0){t=i('<div class="menu-content-option">').attr("data-field-type",e.type);var d=i("<label>").text(c).appendTo(t),f=i('<div class="menu-content-option-input">').attr("data-option-name",a).appendTo(t);switch(r&&d.append('<span class="menu-content-option-description">'+r+"</span>"),o){case"select":var h=i('<select class="menu-content-option-input-select menu-content-option-input-field">').attr("name",a).appendTo(f);i.each(l,(function(n,e){i("<option>").val(n).text(e).prop("selected",n===p).appendTo(h)})),h.on("change",(function(){s(n,a,this.value)}));break;case"checkbox":var v=[];i.each(l,(function(n,e){var t=i('<input type="checkbox" class="menu-content-option-input-field">').val(n).prop("checked",i.inArray(n,p)>=0),o;i("<label>").append(t).append(e).appendTo(f),v.push(t[0])})),i(v).on("change",(function(e){var t=[];i.each(v,(function(n,e){e.checked&&t.push(e.value)})),s(n,a,t)}));break;case"text":var m=i('<input type="text" class="menu-content-option-input-field">').val(p).appendTo(f);u&&m.attr("placeholder",u),d.on("click",(function(){m.focus()})),m.on("change",(function(e){s(n,a,this.value)}));break;case"textarea":var y=i('<textarea rows="3" class="menu-content-option-input-field">').val(p).appendTo(f);u&&y.attr("placeholder",u),d.on("click",(function(){y.focus()})),y.on("change",(function(e){s(n,a,this.value)}));break}}return t}function v(n,e){var t=p(n.contentType);i.each(t,(function(n,t){e.addClass("show"),t.focus&&setTimeout((function(){e.find('[data-option-name="'+t.name+'"] .menu-content-option-input-field').focus()}),100)}))}function m(n){n.wrap('<div class="select_wrapper">');var e=n.parent(),t=i("<span>");e.prepend(t.text(n.find("option:selected").text())),n.on("change",(function(){t.text(n.find("option:selected").text())})),e.prop("isStyled",!0)}function y(){try{var n=w.val(),e=JSON.parse(n||"[]");if(A=[],e.hasOwnProperty("alignment"))u(e.alignment);else{var t=g.data("default-align");t&&u(t)}i.each(e.entries,(function(n,e){a(e)}))}catch(n){}d()}var g=i(t),_=g.parent(".of-input-menu-content-type-wrapper"),b=g.find(".of-input-menu-content-type").clone(),w=_.prev('input[type="hidden"]'),k=_.find(".add-new-menu-content-entry"),x=_.find(".set-menu-content-alignment"),C=_.find(".menu-content-align-popover"),T=i('<select class="select of-input" name="content_type"></select>'),S=[],A=[],D=null,P=g.data("max-entries"),I={};i.each(g.data("entries"),(function(e,t){var o={id:e,title:t,value:null,options:[]},a=g.data("responsive-options");"object"===n(t)&&(o.title=e,o.value=t),i.each(g.data("options"),(function(n,e){o.id===n&&i.each(e,(function(n,e){o.options.push(e)}))})),"none"!==o.id&&"object"===n(a)&&o.options.push(a),i.each(o.options,(function(n,e){"checkbox"===(e=i.extend({type:null,name:null,title:null,description:null,value:null,default:null,placeholder:null,focus:!1},e)).type&&"string"==typeof e.default&&(e.default=e.default.split(",")),o.options[n]=e})),S.push(o)})),i.each(S,(function(n,e){if(e.value){var t=i("<optgroup>").attr("label",e.title);T.append(t),i.each(e.value,(function(n,e){var o=i("<option>").val(n).text(e);t.append(o)}))}else{var o=i("<option>").val(e.id).text(e.title);T.append(o)}})),b.find(".menu-content-column").html("").append(T.clone()),k.on("click",(function(n){n.preventDefault(),a()})),g.sortable({placeholder:"of-input-menu-content-type-placeholder",update:function n(e,t){var a=[];g.children().each((function(n,e){var t,o=i(e).data("entry-id");a.push(c(o))})),A=a,o()}}),x&&x.length&&(x.on("click",(function(n){n.preventDefault();var e=!C.hasClass("open");C[e?"addClass":"removeClass"]("open")})),i(window).on("click",(function(n){C.hasClass("open")&&"function"==typeof C[0].contains&&(x[0].contains(n.target)||C.removeClass("open"))})),C.on("click","a",(function(n){var e;n.preventDefault(),u(i(this).data("align"))}))),y(),w.on("render",(function(){y()}))})),window.exportCustomHeader=function(){var n=["custom_header_content","custom_header_content_left","custom_header_content_right"],e={other:{},data:{}};i(".of-input-menu-content-entries").each((function(t,o){var a,c,r=i(o).parent(".of-input-menu-content-type-wrapper").prev('input[type="hidden"]'),l=r.attr("name");if(-1!==i.inArray(l,n)){var s=r.val();e.data[l]=s}})),e.other.headerType=i("#custom_header_type").val(),i("body").append(i('<div class="header-export">').css({position:"fixed",left:0,top:0,right:0,bottom:0,background:"rgba(0,0,0,.8)"}).on("click",(function(){return i(".header-export").remove()}))),i("body").append(i('<textarea class="header-export" readonly>').css({width:600,height:300,position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:5}).val(JSON.stringify(e)).on("click",(function(){this.select()})))};var e=function n(e){for(var t in e.data){var o=i("#"+t),a=null;try{a=JSON.parse(o.val())}catch(n){}if(a&&a.entries&&a.entries.length){if(!confirm("Confirm: By applying this template the current header structure will be replaced."))return;break}}var c=e.other.headerType;for(var r in i("#custom_header_type").val(c).trigger("change"),e.data){var l;i("#"+r).val(e.data[r]).trigger("render")}};i(".content-builder-templates .content-builder-template-entry").each((function(n,t){var o,a=i(t).find("a"),c=a.data("template");a.on("click",(function(n){n.preventDefault(),e(c)}))}))})),a((function(){setTimeout((function(){var n,e,t=i(["#section-custom_header_content_left","#section-custom_header_content_logo_image","#section-custom_header_content_right","#section-custom_header_content"].join(",")).wrapAll('<div class="header-builder-container">').parent(),o=i("#custom_header_type");t.addClass("is-"+o.val()),o.on("change",(function(){t.removeClass("is-standard is-logo-centered").addClass("is-"+o.val())}))}),1)})),a((function(){var n=i("#kalium-acf5-pro-install-button");n.length&&n.on("click",(function(e){e.preventDefault(),n.hasClass("disabled")||n.hasClass("done")?n.hasClass("done")&&window.location.reload():(n.addClass("disabled").append("&hellip;"),i.post(window.location.pathname,{kalium_acf4_deactivate:1},(function(e){"1"==e?i.post(window.location.pathname,{kalium_acf5_activate:1},(function(e){e.length>2&&(e=i.trim(e.replace(/.*>/gi,""))),"1"==e?n.html("&#10003; Great! Please refresh the page").removeClass("disabled").addClass("done button-primary"):"-1"==e?(n.html("ACF5 could not be activated!"),n.after(" <span>Please try activating the plugin manually from Plugins page.</span>")):(n.html("ACF5 could not be installed!"),n.after(" <span>Please try installing the plugin manually from <strong>Appearance &gt; Install Plugins</strong> page.</span>"))})):(n.html("ACF4 plugin could not be deactivated!"),n.after(" <span>Please try deactivating the plugin manually from Plugins page.</span>"))})))}))})),a((function(){i("#section-skin_palettes_list .skin-palette").each((function(n,e){var t=i(e),o=[];t.find("span").each((function(n,e){o.push(e.style.backgroundColor)})),t.click((function(n){n.preventDefault(),i("#custom_skin_bg_color").iris("color",o[0]),i("#custom_skin_link_color").iris("color",o[1]),i("#custom_skin_headings_color").iris("color",o[2]),i("#custom_skin_paragraph_color").iris("color",o[3]),i("#custom_skin_footer_bg_color").iris("color",o[4]),i("#custom_skin_borders_color").iris("color",o[5])}))}))}))}));