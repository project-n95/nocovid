!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=a(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1,r;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function r(t){var e;for(e=0;e<t.length;e+=1)t[e](_)}function l(){var t=b;w&&t.length&&(b=[],r(t))}function u(){w||(w=!0,y&&clearInterval(y),l())}function d(t){return w?t(_):b.push(t),d}function c(t,e,n,i){function a(){r&&clearTimeout(r)}function o(){a(),l=!0}function s(){function o(){u=Date.now(),n.apply(d,h)}function s(){r=void 0}var d=this,c=Date.now()-u,h=arguments;l||(i&&!r&&o(),a(),void 0===i&&c>t?o():!0!==e&&(r=setTimeout(i?s:o,void 0===i?t-c:t)))}var r,l=!1,u=0;return"boolean"!=typeof e&&(i=n,n=e,e=void 0),s.cancel=o,s}function h(t,e,n){return void 0===n?c(t,e,!1):c(t,n,!1!==e)}function p(){var t=s(C),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return void n.hide()}}catch(e){t.e(e)}finally{t.f()}}function f(){var t=s(C.reverse()),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return void n.open()}}catch(e){t.e(e)}finally{t.f()}}var v,m,y,g="undefined"!=typeof window&&window.document,w=!g,_=g?document:null,b=[];if(g){if(document.addEventListener)document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1);else if(window.attachEvent){window.attachEvent("onload",u),m=document.createElement("div");try{v=null===window.frameElement}catch(t){}m.doScroll&&v&&window.external&&(y=setInterval((function(){try{m.doScroll(),u()}catch(t){}}),30))}"complete"===document.readyState&&u()}d.version="2.0.1",d.load=function(t,e,n,i){i.isBuild?n(null):d(n)};var k=jQuery,x={update:function t(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,n=Object.defineProperty({},"passive",{get:function t(){e=!0}}),i=function t(){};window.addEventListener("testPassiveEventSupport",i,n),window.removeEventListener("testPassiveEventSupport",i,n),x.hasSupport=e}}};x.update();var C=[],$=99999,E=function(){function n(i,a,o){e(this,n),"string"!=typeof i||"object"!==t(a)||a instanceof k?i&&!a&&(a=i,i=null):(o=a,a=i,i=null),this.id="popup-"+Math.random().toString(36).substr(2,9),this.title=i,this.content=a,this.args=k.extend({dismissable:!0,dismissOverlay:!0,iframe:!1,iframeAutoHeight:!1,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,hideOtherActive:!0},o),this._rendered=!1,this._isOpen=!1}return i(n,[{key:"render",value:function t(){this.$overlay=k('<div class="kalium-popup__overlay"></div>').attr("id",this.id).css("z-index",$++),this.$content=k('<div class="kalium-popup__content"></div>').attr("id",this.id).css("z-index",$++),this.title&&(this.$title=k('<div class="kalium-popup__title"></div>').html(this.title).appendTo(this.$content)),this.args.dismissable&&(this.$dismissButton=k('<a href="#" class="kalium-popup__dismiss"><i class="dashicons dashicons-no-alt"></i></a>').appendTo(this.$content)),this.$contentBody=k('<div class="kalium-popup__content-body"></div>').appendTo(this.$content),this.updateSize(),this.$contentBody.append(this.getContent()),this._rendered=!0}},{key:"setupEvents",value:function t(){var e=this;if(this.$overlay.on("click",(function(t){t.preventDefault(),e.args.dismissOverlay&&e._isOpen&&e.close()})),this.$dismissButton&&this.$dismissButton.on("click",(function(t){t.preventDefault(),e.args.dismissable&&e._isOpen&&e.close()})),window.addEventListener){var n=!!x.hasSupport&&{passive:!0};this._resizeEvent=h(300,(function(){e._isOpen&&e.updateSize()})),window.addEventListener("resize",this._resizeEvent,n),this._dismissEvent=function(t){27===t.which&&e._isOpen&&e.args.dismissOverlay&&e.close()},window.addEventListener("keyup",this._dismissEvent)}}},{key:"renderAjaxContent",value:function t(){var e=this;this.$content.find(".kalium-popup__ajax-content").each((function(t,n){var i=k(n),a=i.data("url");i.addClass("kalium-popup__ajax-content--loading"),k.get(a,(function(t){i.html(t).removeClass("kalium-popup__ajax-content--loading").addClass("kalium-popup__ajax-content--loaded"),k(e).trigger("popup.load",[t,n]),e.updateSize()}))}))}},{key:"updateSize",value:function t(){var e=this.args,n={width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight};for(var i in n){var a=n[i];this.$content.css(i,""),a>0&&this.$content.css(i,a)}if(this.$content.outerWidth()>k(window).width()){var o=k(window).width(),s=50;this.$content.css("max-width",o-50),this.$content.css("min-width",o-50)}if(this.$content.outerHeight()>k(window).height()){var r=k(window).height(),l=100;this.$content.css("max-height",r-100)}}},{key:"getContent",value:function t(){if("string"==typeof this.content&&this.content.match(/^https?:\/\/.+/)){this.$contentBody.addClass("kalium-popup__content-body--stretch-container");var e=this,n=e.args.iframe,i=e.args.iframeAutoHeight;return n?k('<iframe frameborder="0" hspace="0" allowtransparency="true" class="kalium-popup__iframe">This feature requires inline frames. You have iframes disabled or your browser does not support them.</iframe>').attr("src",this.content).on("load",(function(){var t=k(this);if(t.addClass("kalium-popup__iframe--loaded"),i)try{var n,a=k(this.contentDocument).height(),o=e.args.maxHeight;o>0&&a>o&&(a=o),t.height(a)}catch(t){}k(e).trigger("load",[this])})):k('<div class="kalium-popup__ajax-content"></div>').data({url:this.content}).html("Loading&hellip;")}return this.content}},{key:"open",value:function t(){if(this._isOpen)return this;if(!1===this._rendered){this.render(),this.setupEvents();var e=k(document.body);e.append(this.$overlay),e.append(this.$content),this.renderAjaxContent()}else{var n="kalium-popup--hidden";this.$overlay.removeClass(n),this.$content.removeClass(n)}return this.args.hideOtherActive&&p(),C.push(this),this._isOpen=!0,k(this).trigger("popup.open"),this}},{key:"hide",value:function t(){if(!this._isOpen)return this;var e="kalium-popup--hidden";return this.$overlay.addClass(e),this.$content.addClass(e),this._isOpen=!1,k(this).trigger("popup.hide"),this}},{key:"close",value:function t(){for(var e in this.$overlay.remove(),this.$content.remove(),window.removeEventListener&&(window.removeEventListener("resize",this._resizeEvent),window.removeEventListener("keyup",this._dismissEvent)),this._rendered=!1,this._isOpen=!1,C)this===C[e]&&delete C[e];return this.args.hideOtherActive&&f(),k(this).trigger("popup.close"),this}}]),n}();E.open=function(t,e,n){return new E(t,e,n).open()},d((function(){var t=function t(e,n){var i=k(e),a=i.find(".about-kalium__faq-article-entry-content");a.slideDown(220,(function(){i.addClass(n),a.removeAttr("style")}))},e=function t(e,n){var i=k(e),a=i.find(".about-kalium__faq-article-entry-content");a.slideUp(220,(function(){i.removeClass(n),a.removeAttr("style")}))};k(".about-kalium__faq-articles .about-kalium__faq-article-entry").each((function(n,i){var a=k(i),o=a.attr("id"),s="expanded",r=a.find("h3 a");window.location.hash.endsWith(o)&&t(i,"expanded"),r.on("click",(function(n){if(n.preventDefault(),!1===a.hasClass("expanded")){a.siblings().each((function(t,n){var i;k(n).hasClass("expanded")&&e(n,"expanded")})),t(i,"expanded");var s=k(window).scrollTop();window.location.hash=o,k(window).scrollTop(s)}else e(i,"expanded")}))}))})),d((function(){k.fn.tooltipster&&k(".about-kalium__system-status-table .help i").each((function(t,e){var n;e.getAttribute("title")&&k(e).tooltipster({position:"top",maxWidth:250})}));var t=k(".about-kalium__system-status-report .debug-report"),e;if(t.length&&(function t(e){var n="";k(e).each((function(t,e){var i=k(e),a="\n";if(t>0&&(n+="\n\n\n"),i.is("table")){var o=i.find("thead th").text(),s=i.find("tbody tr");n+="### ".concat(o," ###"),n+="\n\n",s.each((function(t,e){var i=k(e),a=i.find("td:first").text(),o=i.find("th").html();o=(o=o.replace('<i class="dashicons dashicons-yes"></i>',"✔️")).replace('<i class="dashicons dashicons-no"></i>',"❌");var s=document.createElement("span");s.innerHTML=o,o=s.innerText,n+="".concat(a," ").concat(o),n+="\n"}))}})),k("#system-status-report").val(n)}(".about-kalium__system-status-table"),t.on("click",(function(t){t.preventDefault(),k(".about-kalium__system-status-report-data").slideToggle(200)})),"function"==typeof ClipboardJS)){var n=new ClipboardJS("#system-status-report-button"),i=k("#system-status-report-button");i.tooltipster({content:"Copied!",side:"bottom",trigger:"click"}),n.on("success",(function(){i.tooltipster("show")})),n.on("error",(function(){i.tooltipster("close")}))}})),d((function(){function t(){if("busy"!==i){var a=n.shift();if(a&&a.length){i="busy";var o=a.attr("href"),s=a.data("button-text"),r=a.data("title-processing"),l=["button--state-install","button--state-activate","button--state-update","button--state-active","button-primary"],u="is-loading";a.addClass("is-loading").html(r),k.get(o,(function(n){var r,u=!1,d=k("<div>").append(n).find(".kalium-tgmpa-ajax-response").html();a.removeClass("is-loading").html(s),i="free";try{(d=JSON.parse(d)).hasOwnProperty("success")&&(u=d.success)}catch(t){}if(u){if(d.button_state&&(a.removeClass(l.join(" ")).addClass("button--state-".concat(d.button_state)),-1!==k.inArray(d.button_state,["install","activate"])&&a.addClass("button-primary")),d.button_text&&a.html(d.button_text),d.button_url&&(o=d.button_url.replace(/&amp;/g,"&"),a.attr("href",o)),d.processing_text&&a.data("title-processing",d.processing_text),"install-plugin"===d.action);else if("update-plugin"===d.action){if(d.plugin_updated){var c=a.closest(".about-kalium__plugin-item");c.length&&c.find(".about-kalium__plugin-item-update-notice").remove(),console.log(d),d.hasOwnProperty("new_version")&&c.find(".about-kalium__plugin-item-name .version").html(d.new_version)}}else d.action;t()}else{var h=k("<div>").append(n);if(h.find(".wrap")){var p=h.find(".wrap");p.find("*:empty, p:last-child").remove(),E.open("An error occurred!",p.html(),{width:600})}e()}}))}}}function e(){console.log(n);var t=s(n),e;try{for(t.s();!(e=t.n()).done;){var i=e.value;console.log(i),i.length&&i.removeClass("is-loading").html(i.data("button-text"))}}catch(e){t.e(e)}finally{t.f()}}var n=[],i="free";k(".button-tgmpa-ajax").each((function(e,i){var a=k(i),o=a.html(),s=a.data("title-processing"),r="is-loading";a.on("click",(function(e){e.preventDefault(),a.hasClass("is-loading")||(a.data("button-text",o),a.addClass("is-loading").html(s),n.push(a),t())}))})),window.releaseInstallPlugins=e,k(".about-kalium__plugins-filter").each((function(t,e){var n,i=k(e).find("[data-filter]"),a=k(".about-kalium__plugins [data-filter]"),o=function t(e){var n="filter-out";k(".about-kalium__plugins .about-kalium__plugins-no-entries").remove(),a.each((function(t,n){var i=k(n),a=i.data("filter");"all"===e?i[a.optional?"addClass":"removeClass"]("filter-out"):i[a[e]?"removeClass":"addClass"]("filter-out")})),0===a.not(".".concat("filter-out")).length&&k(".about-kalium__plugins").append('<li class="about-kalium__plugins-no-entries"><div class="about-kalium__plugin-item">There are no plugins matching this filter!</div></li>');var i=k(window).scrollTop();window.location.hash="plugins-".concat(e),k(window).scrollTop(i)};i.on("click",(function(t){t.preventDefault();var e=k(this);i.removeClass("button-primary"),e.addClass("button-primary"),o(e.data("filter"))}));var s=null;window.location.hash&&(s=window.location.hash.match(/plugins-(\w+)/))&&(i.removeClass("button-primary").filter('[data-filter="'+s[1]+'"]').addClass("button-primary"),o(s[1]))}))}))}));